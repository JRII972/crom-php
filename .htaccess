SetEnvIf Authorization .+ HTTP_AUTHORIZATION=$0

RewriteEngine On
RewriteBase /

# Allow access to existing files or directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Redirect /assets/, /data/, /fonts/ to /public/
RewriteRule ^(assets|data|fonts)/(.*)$ public/$1/$2 [L]

# Redirect /api/ calls as-is
RewriteRule ^api/(.*)$ api/index.php [QSA,L]

# All other requests go to frontend/index.html
RewriteRule ^.*$ frontend/index.html [L]
